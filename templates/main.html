<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>{% block title %}{{ SITE_NAME }}{% endblock title %}</title>
    <meta name="title" content="{% block meta_title %}{{ SITE_NAME }}{% endblock meta_title %}">
    <meta name="description" content="{% block description %}{{ SITE_DESCRIPTION }}{% endblock description %}">
    <meta name="keywords" content="{% block keywords %}TPI115, UES, Universidad de El Salvador, opiniones, reseñas, materias, ingeniería{% endblock keywords %}">
    <meta name="author" content="{% block author %}{{ SITE_NAME }}{% endblock author %}">
    <meta name="robots" content="{% block robots %}index, follow{% endblock robots %}">
    <meta name="language" content="Spanish">
    <meta name="revisit-after" content="7 days">
    
    <!-- Google Verification -->
    <meta name="google-site-verification" content="mAhuhYAiFK5QQko2IPTO2-GglnK1Ls4dwNYJfro7f-g" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{% block canonical_url %}{{ SITE_URL }}{{ request.path }}{% endblock canonical_url %}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{% block og_type %}website{% endblock og_type %}">
    <meta property="og:url" content="{% block og_url %}{{ SITE_URL }}{{ request.path }}{% endblock og_url %}">
    <meta property="og:title" content="{% block og_title %}{{ SITE_NAME }}{% endblock og_title %}">
    <meta property="og:description" content="{% block og_description %}{{ SITE_DESCRIPTION }}{% endblock og_description %}">
    <meta property="og:image" content="{% block og_image %}{{ SITE_URL }}/static/og-image.jpg{% endblock og_image %}">
    <meta property="og:site_name" content="{{ SITE_NAME }}">
    <meta property="og:locale" content="es_SV">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="{% block twitter_card %}summary_large_image{% endblock twitter_card %}">
    <meta name="twitter:url" content="{% block twitter_url %}{{ SITE_URL }}{{ request.path }}{% endblock twitter_url %}">
    <meta name="twitter:title" content="{% block twitter_title %}{{ SITE_NAME }}{% endblock twitter_title %}">
    <meta name="twitter:description" content="{% block twitter_description %}{{ SITE_DESCRIPTION }}{% endblock twitter_description %}">
    <meta name="twitter:image" content="{% block twitter_image %}{{ SITE_URL }}/static/og-image.jpg{% endblock twitter_image %}">
    
    <!-- Article Meta Tags (para páginas de reseñas) -->
    {% block article_meta %}{% endblock article_meta %}
    
    <!-- Schema.org Structured Data -->
    {% block structured_data %}{% endblock structured_data %}
        
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="{% url 'review_list' %}">TPI115 Review</a>
            <div class="ms-auto">
                <ul class="navbar-nav">
                    {% if user.is_authenticated %}
                        <li class="nav-item"><a class="nav-link text-white me-3">Hola, {{ user.username }}</a></li>
                        <li class="nav-item">
                            <form method="post" action="{% url 'logout' %}" class="d-flex">
                                {% csrf_token %} 
                                <button type="submit" class="btn btn-sm btn-danger">Cerrar Sesión</button>
                            </form>
                        </li>
                    {% else %}
                        <li class="nav-item"><a class="btn btn-sm btn-primary" href="{% url 'login' %}">Iniciar Sesión</a></li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>
    
    <div class="container mt-5">
        {% block content %}
        {% endblock content %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>